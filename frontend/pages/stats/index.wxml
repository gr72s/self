<view class="page-container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <navbar 
    menuOpen="{{menuOpen}}" 
    bind:toggleMenu="handleMenuToggle"
  />
  
  <view class="container">
    <view class="header">
      <text class="page-title">æ•°æ®ç»Ÿè®¡</text>
    </view>

    <view class="stats-cards">
      <view class="stat-card">
        <text class="stat-label">æ€»è®­ç»ƒæ¬¡æ•°</text>
        <text class="stat-value">{{workouts.length}}</text>
      </view>

      <view class="stat-card">
        <text class="stat-label">æœ¬æœˆè®­ç»ƒ</text>
        <text class="stat-value">{{thisMonthCount}}</text>
      </view>

      <view class="stat-card">
        <text class="stat-label">ä½¿ç”¨è®¡åˆ’</text>
        <text class="stat-value">{{uniqueRoutines}}</text>
      </view>

      <view class="stat-card">
        <text class="stat-label">æ€»åŠ¨ä½œæ•°</text>
        <text class="stat-value">{{totalExercises}}</text>
      </view>
    </view>

    <view class="section">
      <text class="section-title">æœ€è¿‘è®­ç»ƒ</text>
      <view class="workout-list">
        <block wx:if="{{workouts.length === 0}}">
          <view class="empty">
            <text class="empty-icon">ğŸ“Š</text>
            <text class="empty-text">æš‚æ— è®­ç»ƒæ•°æ®</text>
          </view>
        </block>
        <block wx:else>
          <view wx:for="{{recentWorkouts}}" wx:key="id" class="workout-item" bindtap="navigateToWorkout" data-id="{{item.id}}">
            <view class="workout-info">
              <text class="workout-name">{{item.routine && item.routine.name ? item.routine.name : 'æœªå‘½åè®­ç»ƒ'}}</text>
              <text class="workout-date">{{formatDate(item.startTime)}}</text>
            </view>
            <text class="workout-arrow">â€º</text>
          </view>
        </block>
      </view>
    </view>
  </view>
</view>
