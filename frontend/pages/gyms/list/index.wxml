<view class="page-container">
  <!-- щб╢щГихп╝шИкцаП -->
  <navbar 
    menuOpen="{{menuOpen}}" 
    bind:toggleMenu="handleMenuToggle"
  />
  
  <!-- ф╕╗хЖЕхо╣хМ║ -->
  <view class="main-container">
    <!-- щб╡щЭвхд┤щГи -->
    <view class="section-title">
      <text>хБеш║лцИ┐</text>
      <view class="toolbar-right">
        <view class="button icon-button" bindtap="handleRefresh">
          <text>ЁЯФД</text>
        </view>
        <view class="button primary" bindtap="handleAddGym">
          <text class="button-text">+ цЦ░х╗║</text>
        </view>
      </view>
    </view>

    <!-- хБеш║лцИ┐хИЧшби -->
    <view class="table">
      <block wx:if="{{loading}}">
        <view class="loading">
          <view class="loading-spinner"></view>
          <text>хКаш╜╜ф╕н...</text>
        </view>
      </block>
      <block wx:elif="{{error}}">
        <view class="empty">
          <text class="empty-icon">тЪая╕П</text>
          <text class="empty-text">{{error}}</text>
          <view class="button secondary" bindtap="loadGyms">
            <text class="button-text">щЗНшпХ</text>
          </view>
        </view>
      </block>
      <block wx:elif="{{gyms.length === 0}}">
        <view class="empty">
          <text class="empty-icon">ЁЯПЯя╕П</text>
          <text class="empty-text">цЪВцЧахБеш║лцИ┐</text>
          <text class="empty-subtext">хИЫх╗║чммф╕Аф╕кхБеш║лцИ┐х╝АхзЛф╜┐чФи</text>
          <view class="button primary" bindtap="handleAddGym">
            <text class="button-text">цЦ░х╗║щжЦф╕кхБеш║лцИ┐</text>
          </view>
        </view>
      </block>
      <block wx:else>
        <view class="table-header">
          <view class="table-header-cell">хБеш║лцИ┐</view>
          <view class="table-header-cell">хЬ░хЭА</view>
          <view class="table-header-cell" style="text-align: right;">цУНф╜Ь</view>
        </view>
        <view class="table-body">
          <view wx:for="{{gyms}}" wx:key="{{item.id}}" class="table-row">
            <view class="table-cell">
              <text class="gym-name">{{item.name}}</text>
            </view>
            <view class="table-cell">
              <text class="gym-address">{{item.address}}</text>
            </view>
            <view class="table-cell" style="text-align: right;">
              <view class="table-actions">
                <view class="button icon-button" bindtap="handleEditGym" data-id="{{item.id}}">
                  <text>тЬПя╕П</text>
                </view>
                <view class="button icon-button delete" bindtap="handleDeleteGym" data-id="{{item.id}}">
                  <text>ЁЯЧСя╕П</text>
                </view>
              </view>
            </view>
          </view>
        </view>
      </block>
    </view>

    <!-- хИащЩдчбошодхп╣шпЭцбЖ -->
    <view wx:if="{{showDeleteConfirm}}" class="modal-overlay">
      <view class="modal-content">
        <text class="modal-title">чбошодхИащЩд</text>
        <text class="modal-message">чбохоЪхИащЩдшпехБеш║лцИ┐хРЧя╝Я</text>
        <view class="modal-buttons">
          <view class="button secondary" bindtap="cancelDelete">
            <text class="button-text">хПЦц╢И</text>
          </view>
          <view class="button primary delete" bindtap="confirmDelete">
            <text class="button-text">хИащЩд</text>
          </view>
        </view>
      </view>
    </view>
  </view>
  
  <!-- х║ХщГих╖ехЕ╖цаП -->
  <tabbar />
</view>